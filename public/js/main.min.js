const socket=io("ws://krittamark.com:8081");function createLapItem(e){let t=document.createElement("div");t.classList.add("lapList__item");let n=document.querySelectorAll("div.lapList__item").length+1;return t.innerHTML=`<span>LAP ${n}</span>`,t.innerHTML+=`<span class="lapListItem__right">${e}</span>`,t}function setGreen(e){e.classList.remove("controllerBtn__red"),e.classList.add("controllerBtn__green"),e.innerText="START"}function setRed(e){e.classList.remove("controllerBtn__green"),e.classList.add("controllerBtn__red"),e.innerText="STOP"}socket.on("setup",e=>{e.lapList.forEach(e=>{document.querySelector(".lapList").prepend(createLapItem(e))}),document.querySelector(".timer__display").innerHTML=e.time,e.isRunning&&setRed(document.getElementById("toggleTimer")),e.patch()}),socket.on("lap",e=>{document.querySelector(".lapList").prepend(createLapItem(e))}),socket.on("toggled",()=>{let e=document.getElementById("toggleTimer");e.classList.contains("controllerBtn__green")?setRed(e):setGreen(e)}),socket.on("timerReset",()=>{document.querySelector(".lapList").innerHTML="",setGreen(document.getElementById("toggleTimer"))}),socket.on("getTime",e=>{document.querySelector(".timer__display").innerHTML=e}),socket.on("connect",()=>{let e=document.querySelector(".alert");e&&e.remove(),document.querySelectorAll(".controllerBtn").forEach(e=>{e.disabled=!1})}),socket.on("disconnect",()=>{let e=document.createElement("div");e.classList.add("alert","alert-red"),e.innerHTML="Could not connect to server. Please check your Internet connection and try again.",document.body.prepend(e),document.querySelectorAll(".controllerBtn").forEach(e=>{e.disabled=!0})}),document.querySelector(".header").addEventListener("click",()=>{let e=document.documentElement;document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen()}),document.querySelectorAll(".controllerBtn").forEach(e=>{e.addEventListener("click",()=>{e.style="filter: brightness(0.9);",setTimeout(()=>e.style="",100)})}),document.getElementById("toggleTimer").addEventListener("click",()=>{socket.emit("toggleTimer")}),document.getElementById("resetTimer").addEventListener("click",()=>{socket.emit("resetTimer")}),document.getElementById("lapTimer").addEventListener("click",()=>{socket.emit("lap")});